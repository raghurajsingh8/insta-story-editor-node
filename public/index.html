<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Story Editor </title>
  <style>
    * {box-sizing: border-box; margin:0; padding:0; font-family: Arial, sans-serif;}
    body {background:#1e1e1e; color:#f1f1f1; display:flex; flex-direction:column; height:100vh;}
    header.topbar {
      display:flex; justify-content:space-between; align-items:center;
      padding:10px 20px; background:#2c2c2c; border-bottom:1px solid #444;
    }
    header h1 {font-size:20px; color:#fff;}
    .btn {
      background:#444; color:#fff; padding:6px 12px; border:none; border-radius:4px;
      cursor:pointer; font-size:14px; transition:0.2s;
    }
    .btn:hover {background:#666;}
    .btn.primary {background:#007bff;}
    .btn.primary:hover {background:#0062cc;}
    .btn.danger {background:#d9534f;}
    .btn.danger:hover {background:#c9302c;}
    .actions {display:flex; gap:10px; align-items:center;}
    main.layout {flex:1; display:flex; overflow:hidden;}
    aside.left, aside.right {
      width:260px; background:#2b2b2b; padding:12px; overflow-y:auto; border-right:1px solid #444;
    }
    aside.right {border-right:none; border-left:1px solid #444;}
    section.panel {margin-bottom:20px;}
    section.panel h2 {font-size:16px; margin-bottom:8px; border-bottom:1px solid #444; padding-bottom:4px;}
    .slider {margin-bottom:10px;}
    .slider label {font-size:13px; display:block; margin-bottom:3px;}
    .grid {display:grid; grid-template-columns:repeat(auto-fill, 60px); gap:8px;}
    .list {list-style:none; padding:0; margin:0;}
    .editor {flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; background:#1a1a1a;}
    .canvas-wrap {background:#000; padding:5px; border:2px solid #444; border-radius:8px;}
    canvas {max-width:100%; max-height:80vh; background:#fff; border-radius:6px;}
    .hint {font-size:12px; color:#bbb; margin-top:6px;}
    .row {display:flex; align-items:center; justify-content:space-between; margin:6px 0;}
    .row label {font-size:13px;}
    input[type="text"], input[type="color"], input[type="range"] {
      flex:1; margin-left:8px;
    }
    footer.foot {
      text-align:center; font-size:12px; padding:8px;
      background:#2c2c2c; border-top:1px solid #444;
    }
  </style>
</head>
<body>
  <header class="topbar">
    <h1>Story Editor</h1>
    <div class="actions">
      <label class="btn">
        <input id="photoInput" type="file" accept="image/*" hidden />
        Upload Photo
      </label>
      <button onclick="window.location.reload()">Reset</button>
      <button id="addTextBtn" class="btn"
  style="padding:8px 15px;background:#4CAF50;color:white;border:none;border-radius:6px;cursor:pointer;"
  onclick="this.insertAdjacentHTML('afterend', `<div style='margin-top:10px;padding:10px;border:1px solid #ccc;border-radius:5px;display:inline-block;'>${prompt('Enter your text:') || 'No Text Entered'}</div>`)"
>
  Add Text
</button>

      <button id="downloadBtn" class="btn primary">Download</button>
    </div>
  </header>

  <main class="layout">
    <aside style="width: fit-content;" class="left">
      <h2>
    <button class="toggle-btn" onclick="togglePanel('filtersPanel')">â–¶ Filters</button>
  </h2>
      <section class="panel">
  
  <div id="filtersPanel" class="panel-body" style="display:none;">
    <div class="slider">
      <label>Brightness <span id="val-brightness">100%</span></label>
      <input id="f-brightness" type="range" min="0" max="200" value="100">
    </div>
    <div class="slider">
      <label>Contrast <span id="val-contrast">100%</span></label>
      <input id="f-contrast" type="range" min="0" max="200" value="100">
    </div>
    <div class="slider">
      <label>Saturation <span id="val-saturate">100%</span></label>
      <input id="f-saturate" type="range" min="0" max="200" value="100">
    </div>
    <div class="slider">
      <label>Sepia <span id="val-sepia">0%</span></label>
      <input id="f-sepia" type="range" min="0" max="100" value="0">
    </div>
    <div class="slider">
      <label>Grayscale <span id="val-grayscale">0%</span></label>
      <input id="f-grayscale" type="range" min="0" max="100" value="0">
    </div>
    <div class="slider">
      <label>Blur <span id="val-blur">0px</span></label>
      <input id="f-blur" type="range" min="0" max="10" value="0">
    </div>
    <div class="slider">
      <label>Hue <span id="val-hue">0Â°</span></label>
      <input id="f-hue" type="range" min="0" max="360" value="0">
    </div>

     <section class="panel">
        <h2>Stickers</h2>
        <div id="stickers" class="grid"></div>
      </section>
      <!-- header actions ke andar -->
<label class="btn" style="display:inline-flex;align-items:center;gap:8px;">
  <input id="bgColorInput" type="color" value="#ffffff" style="width:36px;height:36px;border:none;padding:0;">
  <span style="font-size:13px;color:inherit;">Background</span>
</label>

<button id="bgClearBtn" class="btn" style="margin-left:6px;">Transparent</button>


      <section class="panel">
        <h2>Frames/Overlays</h2>
        <div id="filtersOverlay" class="grid"></div>
      </section>
  </div>
  
</section>


     
    </aside>

    <section class="editor">
      <div class="canvas-wrap">
        <canvas id="canvas" width="1080" height="1920"></canvas>
      </div>
      <div class="hint">ðŸ’¡ Tip: drag stickers/text, scroll to resize, hold R + scroll to rotate, Delete to remove.</div>
    </section>

    <aside class="right" 
       style="width:260px; background:linear-gradient(180deg,#1e3c72,#2a5298);
              color:#fff; padding:12px; border-radius:12px; 
              display:flex; flex-direction:column; gap:12px;">

  <!-- ðŸŽµ Music Panel -->
  <section class="panel music-panel" 
           style="background:#ffffff; color:#333; padding:10px; border-radius:10px;
                  box-shadow:0 2px 6px rgba(0,0,0,0.2);">
    <h2 style="font-size:16px; margin:0 0 8px; text-align:center; color:#2575fc;">ðŸŽµ Music</h2>
    <audio id="player" controls preload="metadata" 
           style="width:100%; border-radius:6px; margin-bottom:8px;"></audio>
    <ul id="songs" class="list" 
        style="list-style:none; padding:0; margin:0; max-height:200px; overflow-y:auto;">
      <li style="background:#fff; color:#333; padding:6px 8px; border-radius:8px; 
                 display:flex; justify-content:space-between; align-items:center; 
                 font-size:13px; margin-bottom:6px;
                 box-shadow:0 2px 4px rgba(0,0,0,0.15);">
        <span style="flex:1; font-weight:600;">Song 1</span>
        <button style="background:linear-gradient(135deg,#6a11cb,#2575fc);
                       color:#fff; border:none; border-radius:5px; 
                       padding:4px 8px; font-size:12px; cursor:pointer;">Play</button>
      </li>
      <li style="background:#fff; color:#333; padding:6px 8px; border-radius:8px; 
                 display:flex; justify-content:space-between; align-items:center; 
                 font-size:13px; margin-bottom:6px;
                 box-shadow:0 2px 4px rgba(0,0,0,0.15);">
        <span style="flex:1; font-weight:600;">Song 2</span>
        <button style="background:linear-gradient(135deg,#ff512f,#dd2476);
                       color:#fff; border:none; border-radius:5px; 
                       padding:4px 8px; font-size:12px; cursor:pointer;">Play</button>
      </li>
    </ul>
  </section>

  <!-- ðŸŽ¨ Layer Panel -->
  <section class="panel layer-panel" 
           style="background:#ffffff; color:#333; padding:10px; border-radius:10px;
                  box-shadow:0 2px 6px rgba(0,0,0,0.2);">
    <h2 style="font-size:16px; margin:0 0 8px; text-align:center; color:#e94057;">ðŸŽ¨ Selected Layer</h2>
    <div id="layerInfo" class="info-box" 
         style="padding:6px; border:1px solid #ccc; border-radius:6px; 
                background:#f9f9f9; margin-bottom:8px; text-align:center;">None</div>

    <div class="row" style="margin-bottom:8px;">
      <label style="display:block; font-size:12px; margin-bottom:4px;">Text</label>
      <input id="textEdit" type="text" placeholder="Edit text" 
             style="width:100%; padding:6px; border-radius:6px; border:1px solid #ccc;" />
    </div>

    <div class="row" style="margin-bottom:8px;">
      <label style="display:block; font-size:12px; margin-bottom:4px;">Color</label>
      <input id="textColor" type="color" value="#ffffff" 
             style="width:100%; height:36px; border:none; cursor:pointer;" />
    </div>

    <div class="row" style="margin-bottom:10px;">
      <label style="display:block; font-size:12px; margin-bottom:4px;">Font Size</label>
      <input id="textSize" type="range" min="10" max="150" value="48" 
             style="width:100%;" />
    </div>

    <div class="btn-group" 
         style="display:flex; justify-content:space-between; gap:6px;">
      <button id="bringFront" 
              style="flex:1; background:#4facfe; border:none; border-radius:6px; 
                     padding:6px; color:#fff; font-size:12px; cursor:pointer;">â¬† Front</button>
      <button id="sendBack" 
              style="flex:1; background:#43e97b; border:none; border-radius:6px; 
                     padding:6px; color:#fff; font-size:12px; cursor:pointer;">â¬‡ Back</button>
      <button id="deleteLayer" 
              style="flex:1; background:#ff4e50; border:none; border-radius:6px; 
                     padding:6px; color:#fff; font-size:12px; cursor:pointer;">ðŸ—‘ Delete</button>
    </div>
  </section>
</aside>


  </main>

  <footer class="foot">
    <span>Developed by Raghuraj Pratap Singh</span>
  </footer>

  <script src="script.js"></script>
</body>
</html>
